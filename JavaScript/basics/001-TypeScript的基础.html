<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端时光屋</title>
    <meta name="description" content="梁书豪的博客">
    <meta name="generator" content="VuePress 1.3.0">
    <link rel="icon" href="/assets/img/head.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.83ce72a3.css" as="style"><link rel="preload" href="/assets/js/app.06b24de5.js" as="script"><link rel="preload" href="/assets/js/2.a05443f6.js" as="script"><link rel="preload" href="/assets/js/33.61ac7552.js" as="script"><link rel="prefetch" href="/assets/js/10.a5eaa95a.js"><link rel="prefetch" href="/assets/js/11.06e35382.js"><link rel="prefetch" href="/assets/js/12.140f4db6.js"><link rel="prefetch" href="/assets/js/13.f2fcf962.js"><link rel="prefetch" href="/assets/js/14.e39a2df6.js"><link rel="prefetch" href="/assets/js/15.b07ecf86.js"><link rel="prefetch" href="/assets/js/16.949e4dac.js"><link rel="prefetch" href="/assets/js/17.6a721f97.js"><link rel="prefetch" href="/assets/js/18.1b363edf.js"><link rel="prefetch" href="/assets/js/19.900530d5.js"><link rel="prefetch" href="/assets/js/20.e9f183ae.js"><link rel="prefetch" href="/assets/js/21.6c08f73f.js"><link rel="prefetch" href="/assets/js/22.c37ad609.js"><link rel="prefetch" href="/assets/js/23.759a99ff.js"><link rel="prefetch" href="/assets/js/24.c8f3fa94.js"><link rel="prefetch" href="/assets/js/25.b58c3ab8.js"><link rel="prefetch" href="/assets/js/26.ba5e0c3b.js"><link rel="prefetch" href="/assets/js/27.ad23a71d.js"><link rel="prefetch" href="/assets/js/28.a74c53ca.js"><link rel="prefetch" href="/assets/js/29.30ef0dde.js"><link rel="prefetch" href="/assets/js/3.a21791ca.js"><link rel="prefetch" href="/assets/js/30.1e9ebdb5.js"><link rel="prefetch" href="/assets/js/31.30b7a1e3.js"><link rel="prefetch" href="/assets/js/32.9f1ded02.js"><link rel="prefetch" href="/assets/js/34.f040c739.js"><link rel="prefetch" href="/assets/js/35.2c5d08d5.js"><link rel="prefetch" href="/assets/js/36.257c41df.js"><link rel="prefetch" href="/assets/js/37.40a1bbc2.js"><link rel="prefetch" href="/assets/js/38.5415ab64.js"><link rel="prefetch" href="/assets/js/39.90b605f0.js"><link rel="prefetch" href="/assets/js/4.21591d40.js"><link rel="prefetch" href="/assets/js/40.5e9ae863.js"><link rel="prefetch" href="/assets/js/41.884155d7.js"><link rel="prefetch" href="/assets/js/42.1ec6dd60.js"><link rel="prefetch" href="/assets/js/43.47cf7283.js"><link rel="prefetch" href="/assets/js/44.7af49fad.js"><link rel="prefetch" href="/assets/js/45.6088e1a9.js"><link rel="prefetch" href="/assets/js/46.fd004b63.js"><link rel="prefetch" href="/assets/js/47.044fc351.js"><link rel="prefetch" href="/assets/js/48.55a5f3fb.js"><link rel="prefetch" href="/assets/js/49.e103d7ad.js"><link rel="prefetch" href="/assets/js/5.db726197.js"><link rel="prefetch" href="/assets/js/50.f945ce05.js"><link rel="prefetch" href="/assets/js/51.316d410a.js"><link rel="prefetch" href="/assets/js/52.92a10b4a.js"><link rel="prefetch" href="/assets/js/53.e7534ba4.js"><link rel="prefetch" href="/assets/js/54.6b19fef9.js"><link rel="prefetch" href="/assets/js/55.e3fc3b29.js"><link rel="prefetch" href="/assets/js/56.0e152b3e.js"><link rel="prefetch" href="/assets/js/57.13187b13.js"><link rel="prefetch" href="/assets/js/58.d9bda000.js"><link rel="prefetch" href="/assets/js/59.da580bc1.js"><link rel="prefetch" href="/assets/js/6.ecb72c20.js"><link rel="prefetch" href="/assets/js/60.285d6cbd.js"><link rel="prefetch" href="/assets/js/61.2cdcce13.js"><link rel="prefetch" href="/assets/js/62.cf643bd2.js"><link rel="prefetch" href="/assets/js/63.137e165f.js"><link rel="prefetch" href="/assets/js/64.ce851e8d.js"><link rel="prefetch" href="/assets/js/65.8e7d5299.js"><link rel="prefetch" href="/assets/js/66.4369c90e.js"><link rel="prefetch" href="/assets/js/67.c769b698.js"><link rel="prefetch" href="/assets/js/68.bf74184c.js"><link rel="prefetch" href="/assets/js/69.17c602b3.js"><link rel="prefetch" href="/assets/js/7.6cbb1600.js"><link rel="prefetch" href="/assets/js/70.55df3357.js"><link rel="prefetch" href="/assets/js/71.4fccac4a.js"><link rel="prefetch" href="/assets/js/72.d4eeaf2a.js"><link rel="prefetch" href="/assets/js/73.30f9528a.js"><link rel="prefetch" href="/assets/js/74.4e91b153.js"><link rel="prefetch" href="/assets/js/75.cbd8b825.js"><link rel="prefetch" href="/assets/js/76.72f7b4b9.js"><link rel="prefetch" href="/assets/js/77.a30e1989.js"><link rel="prefetch" href="/assets/js/78.3c4b8b32.js"><link rel="prefetch" href="/assets/js/79.0897d95d.js"><link rel="prefetch" href="/assets/js/8.36911a7c.js"><link rel="prefetch" href="/assets/js/80.43c8044b.js"><link rel="prefetch" href="/assets/js/81.89c13b3c.js"><link rel="prefetch" href="/assets/js/82.df5cf081.js"><link rel="prefetch" href="/assets/js/83.885deed2.js"><link rel="prefetch" href="/assets/js/84.4ed1e2fa.js"><link rel="prefetch" href="/assets/js/85.8bade5eb.js"><link rel="prefetch" href="/assets/js/86.d39c8dda.js"><link rel="prefetch" href="/assets/js/87.15d43505.js"><link rel="prefetch" href="/assets/js/88.ee14fb59.js"><link rel="prefetch" href="/assets/js/89.c5ea7888.js"><link rel="prefetch" href="/assets/js/9.6d6cea10.js"><link rel="prefetch" href="/assets/js/90.2e83c22b.js"><link rel="prefetch" href="/assets/js/91.972a9ec4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.83ce72a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端时光屋</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/basics/" class="nav-link router-link-active">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/advance/" class="nav-link">
  进阶
</a></li></ul></div></div><div class="nav-item"><a href="/Vue/base/" class="nav-link">
  Vue
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/React/basics/" class="nav-link">
  用法
</a></li><li class="dropdown-item"><!----> <a href="/React/advance/" class="nav-link">
  原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node" class="dropdown-title"><span class="title">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Node/basics/" class="nav-link">
  用法
</a></li><li class="dropdown-item"><!----> <a href="/Node/advance/" class="nav-link">
  原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Webpack" class="dropdown-title"><span class="title">Webpack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Webpack/basics/" class="nav-link">
  用法
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/advance/" class="nav-link">
  原理
</a></li></ul></div></div><div class="nav-item"><a href="/Performance/" class="nav-link">
  性能相关
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试相关" class="dropdown-title"><span class="title">面试相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Interview/js/" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/Interview/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/Interview/react/" class="nav-link">
  react
</a></li><li class="dropdown-item"><!----> <a href="/Interview/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/Interview/http/" class="nav-link">
  http
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/basics/" class="nav-link router-link-active">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/advance/" class="nav-link">
  进阶
</a></li></ul></div></div><div class="nav-item"><a href="/Vue/base/" class="nav-link">
  Vue
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/React/basics/" class="nav-link">
  用法
</a></li><li class="dropdown-item"><!----> <a href="/React/advance/" class="nav-link">
  原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node" class="dropdown-title"><span class="title">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Node/basics/" class="nav-link">
  用法
</a></li><li class="dropdown-item"><!----> <a href="/Node/advance/" class="nav-link">
  原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Webpack" class="dropdown-title"><span class="title">Webpack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Webpack/basics/" class="nav-link">
  用法
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/advance/" class="nav-link">
  原理
</a></li></ul></div></div><div class="nav-item"><a href="/Performance/" class="nav-link">
  性能相关
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试相关" class="dropdown-title"><span class="title">面试相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Interview/js/" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/Interview/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/Interview/react/" class="nav-link">
  react
</a></li><li class="dropdown-item"><!----> <a href="/Interview/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/Interview/http/" class="nav-link">
  http
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>堆栈内存及闭包作用域</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaScript/basics/000：浏览器进程与宏微任务.html" class="sidebar-link">000：浏览器进程与宏微任务</a></li><li><a href="/JavaScript/basics/001：数据类型转换法则.html" class="sidebar-link">001：数据类型转换法则</a></li><li><a href="/JavaScript/basics/002：深度剖析parseInt的处理规则.html" class="sidebar-link">002：深度剖析parseInt的处理规则</a></li><li><a href="/JavaScript/basics/003：浏览器底层机制：EC、STACK、VO、AO、GO.html" class="sidebar-link">003：浏览器底层机制：EC、STACK、VO、AO、GO</a></li><li><a href="/JavaScript/basics/004：函数创建和执行的底层机制.html" class="sidebar-link">004：函数创建和执行的底层机制</a></li><li><a href="/JavaScript/basics/005：闭包作用域及其经典面试题.html" class="sidebar-link">005：闭包作用域及其经典面试题</a></li><li><a href="/JavaScript/basics/006：闭包的应用.html" class="sidebar-link">006：闭包的应用</a></li><li><a href="/JavaScript/basics/007：垃圾收集-机制.html" class="sidebar-link">007：垃圾收集-机制</a></li><li><a href="/JavaScript/basics/008：尾递归调用和优化.html" class="sidebar-link">008：尾递归调用和优化</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器的底层渲染机制及优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面向对象（OOP）和this处理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES6/ES7的核心知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>AJAX/HTTP前后端数据交互</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaScript/basics/000：浏览器进程与宏微任务.html" class="sidebar-link">000：浏览器进程与宏微任务</a></li><li><a href="/JavaScript/basics/001：AJAX.html" class="sidebar-link">001：AJAX</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>TypeScript教程</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaScript/basics/001-TypeScript的基础.html" class="active sidebar-link">001-TypeScript的基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#什么是typescript" class="sidebar-link">什么是TypeScript</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#为什么选择typescript" class="sidebar-link">为什么选择TypeScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#typescript-增加了代码的可读性和可维护性" class="sidebar-link">TypeScript 增加了代码的可读性和可维护性</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#typescript-非常包容" class="sidebar-link">TypeScript 非常包容</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#typescript-拥有活跃的社区" class="sidebar-link">TypeScript 拥有活跃的社区</a></li></ul></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#安装typescript" class="sidebar-link">安装TypeScript</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#原始数据类型" class="sidebar-link">原始数据类型</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#布尔值" class="sidebar-link">布尔值</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#数值（同number）" class="sidebar-link">数值（同Number）</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#字符串（同number）" class="sidebar-link">字符串（同Number）</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#空值（void）" class="sidebar-link">空值（void）</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#null和undefined" class="sidebar-link">Null和Undefined</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#任意值" class="sidebar-link">任意值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#什么是任意值类型" class="sidebar-link">什么是任意值类型</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#任意值的属性和方法" class="sidebar-link">任意值的属性和方法</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#未声明类型的变量" class="sidebar-link">未声明类型的变量</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#任意值的弊端" class="sidebar-link">任意值的弊端</a></li></ul></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#联合类型" class="sidebar-link">联合类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#简单的例子" class="sidebar-link">简单的例子</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#访问联合类型的属性或方法" class="sidebar-link">访问联合类型的属性或方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#对象的类型————接口" class="sidebar-link">对象的类型————接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#什么是接口" class="sidebar-link">什么是接口</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#简单的例子-2" class="sidebar-link">简单的例子</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#可选属性" class="sidebar-link">可选属性</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#任意属性" class="sidebar-link">任意属性</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#只读属性" class="sidebar-link">只读属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#数组的类型" class="sidebar-link">数组的类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#「类型-方括号」" class="sidebar-link">「类型 + 方括号」</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#用接口表示数组" class="sidebar-link">用接口表示数组</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#类数组-arguments" class="sidebar-link">类数组 - arguments</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#any在数组中的应用" class="sidebar-link">any在数组中的应用</a></li></ul></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#函数的类型" class="sidebar-link">函数的类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#函数声明" class="sidebar-link">函数声明</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#函数声明的类型定义" class="sidebar-link">函数声明的类型定义</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#可选参数" class="sidebar-link">可选参数</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#参数默认值" class="sidebar-link">参数默认值</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#剩余参数" class="sidebar-link">剩余参数</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#函数表达式" class="sidebar-link">函数表达式</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#用接口定义函数的形状（拓展）" class="sidebar-link">用接口定义函数的形状（拓展）</a></li><li class="sidebar-sub-header"><a href="/JavaScript/basics/001-TypeScript的基础.html#看完三件事❤" class="sidebar-link">看完三件事❤</a></li></ul></li></ul></li><li><a href="/JavaScript/basics/002-TypeScript的进阶.html" class="sidebar-link">002-TypeScript的进阶</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><b>编者荐语：</b>
本文旨在帮助大家在闲暇时间掌握TS用法，故抽出时间，学习整理TypeScript教程，本文大部分内容来自阮一峰老师的网站，大家放心阅读。</p> <h2 id="什么是typescript"><a href="#什么是typescript" class="header-anchor">#</a> 什么是TypeScript</h2> <p><strong>TypeScript</strong> 是 JavaScript 的一个超集，主要提供了类型系统和对 ES6 的支持，它由 Microsoft 开发，代码开源于 GitHub 上。
根据官网翻译成中文是</p> <blockquote><p>TypeScript 是 JavaScript 的类型的超集，它可以编译成纯 JavaScript。编译出来的 JavaScript 可以运行在任何浏览器上。TypeScript 编译工具可以运行在任何服务器和任何系统上。TypeScript 是开源的。</p></blockquote> <h2 id="为什么选择typescript"><a href="#为什么选择typescript" class="header-anchor">#</a> 为什么选择TypeScript</h2> <p>TypeScript 官网列举了一些优势，不过阮一峰老师愿意自己总结一下：</p> <h3 id="typescript-增加了代码的可读性和可维护性"><a href="#typescript-增加了代码的可读性和可维护性" class="header-anchor">#</a> TypeScript 增加了代码的可读性和可维护性</h3> <ul><li>类型系统实际上是最好的文档，大部分的函数看看类型的定义就可以知道如何使用了</li> <li>可以在编译阶段就发现大部分错误，这总比在运行时候出错好</li> <li>增强了编辑器和 IDE 的功能，包括代码补全、接口提示、跳转到定义、代码重构等</li></ul> <h3 id="typescript-非常包容"><a href="#typescript-非常包容" class="header-anchor">#</a> TypeScript 非常包容</h3> <ul><li>TypeScript 是 JavaScript 的超集，. js 文件可以直接重命名为 . ts 即可</li> <li>即使不显式的定义类型，也能够自动做出<strong>类型推论</strong></li> <li>即使 TypeScript 编译报错，也可以生成 JavaScript 文件</li> <li>兼容第三方库，即使第三方库不是用 TypeScript 写的，也可以编写单独的类型文件供 TypeScript 读取</li></ul> <h3 id="typescript-拥有活跃的社区"><a href="#typescript-拥有活跃的社区" class="header-anchor">#</a> TypeScript 拥有活跃的社区</h3> <ul><li>大部分第三方库都有提供给 TypeScript 的类型定义文件</li> <li>Angular、Vue、VS Code、Ant Design 等等耳熟能详的项目都是使用 TypeScript 编写的</li> <li>TypeScript 拥抱了 ES6 规范，支持 ESNext 草案中处于第三阶状态（Stage 3）的特性</li></ul> <h2 id="安装typescript"><a href="#安装typescript" class="header-anchor">#</a> 安装TypeScript</h2> <p>TypeScript 的命令行工具安装方法如下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code>npm install <span class="token operator">-</span>g typescript
</code></pre></div><p>以上命令会在全局环境下安装 tsc 命令，安装完成之后，我们就可以在任何地方执行 tsc 命令了。
<br>
编译一个 TypeScript 文件很简单：</p> <div class="language-ts extra-class"><pre class="language-ts"><code>tsc hello<span class="token punctuation">.</span> ts
</code></pre></div><p>查看 TypeScript 的版本信息：</p> <div class="language-ts extra-class"><pre class="language-ts"><code>tsc <span class="token operator">-</span>v
</code></pre></div><p>我们约定使用 TypeScript 编写的文件以 . ts 为后缀，用 TypeScript 编写 React 时，以 . tsx 为后缀。</p> <blockquote><p>接下来让我们全面拥抱TypeScript伟大的语言吧~</p></blockquote> <h2 id="原始数据类型"><a href="#原始数据类型" class="header-anchor">#</a> 原始数据类型</h2> <p>JavaScript 的类型分为两种：
<b>原始数据类型</b>和<b>对象类型</b>。
<br>
以下部分介绍<b>前五中</b>原始数组类型在TypeScipt中的应用。</p> <h2 id="布尔值"><a href="#布尔值" class="header-anchor">#</a> 布尔值</h2> <p>在 TypeScript 中，使用 boolean 定义布尔值类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> isDone<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> 
<span class="token comment">// 编译通过</span>
<span class="token comment">// 后面约定，未强调编译错误的代码片段，默认为编译通过</span>
</code></pre></div><blockquote><p>注意，使用构造函数 Boolean 创造的对象不是布尔值：</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> createdByNewBoolean<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// Type 'Boolean' is not assignable to type 'boolean'. </span>
</code></pre></div><p>事实上 new Boolean() 返回的是一个 <strong>Boolean 对象</strong>：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> createdByNewBoolean<span class="token operator">:</span> Boolean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><blockquote><p>在 TypeScript 中，boolean 是 JavaScript 中的基本类型，而 <strong>Boolean</strong> 是 JavaScript 中的 <strong>构造函数</strong> 。其他基本类型（除了 null 和 undefined）一样，不再描述。</p></blockquote> <h2 id="数值（同number）"><a href="#数值（同number）" class="header-anchor">#</a> 数值（同Number）</h2> <p>使用 number 定义数值类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> decLiteral<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> hexLiteral<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0xf00d</span><span class="token punctuation">;</span> 
<span class="token comment">// ES6 中的二进制表示法</span>
<span class="token keyword">let</span> binaryLiteral<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0b1010</span><span class="token punctuation">;</span> 
<span class="token comment">// ES6 中的八进制表示法</span>
<span class="token keyword">let</span> octalLiteral<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0o744</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> notANumber<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">;</span> 
</code></pre></div><p>编译结果：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">var</span> decLiteral <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> hexLiteral <span class="token operator">=</span> <span class="token number">0xf00d</span><span class="token punctuation">;</span> 
<span class="token comment">// ES6 中的二进制表示法</span>
<span class="token keyword">var</span> binaryLiteral <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> 
<span class="token comment">// ES6 中的八进制表示法</span>
<span class="token keyword">var</span> octalLiteral <span class="token operator">=</span> <span class="token number">484</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> notANumber <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">;</span> 
</code></pre></div><p>其中 0b1010 和 0o744 是 ES6 中的 <strong>二进制</strong> 和 <strong>八进制</strong> 表示法，它们会被编译为十进制数字。</p> <h2 id="字符串（同number）"><a href="#字符串（同number）" class="header-anchor">#</a> 字符串（同Number）</h2> <p>使用 string 定义字符串类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'Tom'</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> myAge<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> 

<span class="token comment">// 模板字符串</span>
<span class="token keyword">let</span> sentence<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token operator">**</span>Hello<span class="token punctuation">,</span> my name <span class="token keyword">is</span> $<span class="token punctuation">{</span>myName<span class="token punctuation">}</span><span class="token punctuation">.</span> 
<span class="token constant">I</span>'ll be $<span class="token punctuation">{</span>myAge <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span> years old next month<span class="token punctuation">.</span> <span class="token operator">**</span><span class="token punctuation">;</span> 
</code></pre></div><h2 id="空值（void）"><a href="#空值（void）" class="header-anchor">#</a> 空值（void）</h2> <p>JavaScript 没有空值（Void）的概念，在 TypeScript 中，可以用 void 表示没有任何返回值的函数：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">alertName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'My name is Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><p>声明一个 <strong>void</strong> 类型的变量没有什么用，因为你只能将它赋值为 <strong>undefined</strong> 和 <strong>null</strong> ：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> unusable<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> 
</code></pre></div><p>以下的两点Null和Undefined尤为需要注意一下，因为在js面试中也常问到。</p> <h2 id="null和undefined"><a href="#null和undefined" class="header-anchor">#</a> Null和Undefined</h2> <p>在 TypeScript 中，可以使用 null 和 undefined 来定义这两个原始数据类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> u<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> n<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> 
</code></pre></div><blockquote><p>与 <strong>void</strong> 的区别是， <strong>undefined</strong> 和 <strong>null</strong> 是所有类型的 <strong>子类型</strong> 。也就是说 <strong>undefined</strong> 类型的变量，可以赋值给 <strong>number</strong> 类型的变量：</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 这样不会报错</span>
<span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> 

<span class="token comment">//  这样也不会报错</span>
<span class="token keyword">let</span> u<span class="token operator">:</span><span class="token keyword">undefined</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> num<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> u<span class="token punctuation">;</span> 
</code></pre></div><blockquote><p>而 <strong>void</strong> 类型的变量不能赋值给 <strong>number</strong> 类型的变量，会报错</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> u<span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> u<span class="token punctuation">;</span> 
<span class="token comment">// Type 'void' is not assignable to type 'number'. </span>
</code></pre></div><h2 id="任意值"><a href="#任意值" class="header-anchor">#</a> 任意值</h2> <p>任意值（Any）用来表示允许赋值为任意类型。</p> <h3 id="什么是任意值类型"><a href="#什么是任意值类型" class="header-anchor">#</a> 什么是任意值类型</h3> <p>如果是一个普通类型，在赋值过程中改变类型是不被允许的：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'seven'</span><span class="token punctuation">;</span> 
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> 

<span class="token comment">// Type 'number' is not assignable to type 'string'. </span>
</code></pre></div><p>但如果是 any 类型，则允许被赋值为任意类型。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'seven'</span><span class="token punctuation">;</span> 
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="任意值的属性和方法"><a href="#任意值的属性和方法" class="header-anchor">#</a> 任意值的属性和方法</h3> <p>在任意值上访问任何属性都是允许的：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> anyThing<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span> 
<span class="token builtin">console</span><span class="token punctuation">.</span> <span class="token function">log</span><span class="token punctuation">(</span>anyThing<span class="token punctuation">.</span> myName<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token builtin">console</span><span class="token punctuation">.</span> <span class="token function">log</span><span class="token punctuation">(</span>anyThing<span class="token punctuation">.</span> myName<span class="token punctuation">.</span> firstName<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><p>也允许调用任何方法：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> anyThing<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'Tom'</span><span class="token punctuation">;</span> 
anyThing<span class="token punctuation">.</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'Jerry'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
anyThing<span class="token punctuation">.</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'Jerry'</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
anyThing<span class="token punctuation">.</span> myName<span class="token punctuation">.</span> <span class="token function">setFirstName</span><span class="token punctuation">(</span><span class="token string">'Cat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><p>可以认为，<b>声明一个变量为任意值之后，对它的任何操作，返回的内容的类型都是任意值。</b></p> <h3 id="未声明类型的变量"><a href="#未声明类型的变量" class="header-anchor">#</a> 未声明类型的变量</h3> <p>变量如果在声明的时候，未指定其类型，那么它会被识别为任意值类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> something<span class="token punctuation">;</span> 
something <span class="token operator">=</span> <span class="token string">'seven'</span><span class="token punctuation">;</span> 
something <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> 

something<span class="token punctuation">.</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><p>等价于</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> something<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span> 
something <span class="token operator">=</span> <span class="token string">'seven'</span><span class="token punctuation">;</span> 
something <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> 

something<span class="token punctuation">.</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="任意值的弊端"><a href="#任意值的弊端" class="header-anchor">#</a> 任意值的弊端</h3> <p>任意值一定要慎用，因为在声明any之后。它的任何操作，返回的类型均是 any 对变量类型的检查变为毫无意义，同时这也就失去了TypeScripe强类型检查语言的意义了。</p> <h4 id="场景1"><a href="#场景1" class="header-anchor">#</a> 场景1</h4> <p>模块的引入可能是由第三方库引进，无法确认变量的类型时候，应该用 any(不确定性类型) - 允许赋值为任意类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> notSure<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token number">4</span>
notSure <span class="token operator">=</span> <span class="token string">'maybe it is a string'</span>
notSure <span class="token operator">=</span> <span class="token boolean">true</span>

notSure<span class="token punctuation">.</span> myName
notSure<span class="token punctuation">.</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 以上不会报任何错</span>
</code></pre></div><p>接下来讲一下TypeScript与JavaScript不同的概念</p> <h2 id="联合类型"><a href="#联合类型" class="header-anchor">#</a> 联合类型</h2> <p>联合类型表示取值可以为多种类型中的一种。</p> <h3 id="简单的例子"><a href="#简单的例子" class="header-anchor">#</a> 简单的例子</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
myFavoriteNumber <span class="token operator">=</span> <span class="token string">'seven'</span><span class="token punctuation">;</span> 
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> 
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
myFavoriteNumber <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> 

<span class="token comment">// Type 'boolean' is not assignable to type 'string | number'. </span>
<span class="token comment">// Type 'boolean' is not assignable to type 'number'. </span>
</code></pre></div><p>联合类型使用 | 分隔每个类型。
这里的 <strong>let myFavoriteNumber: string | number</strong> 的含义是，允许 <strong>myFavoriteNumber</strong> 的类型是 <strong>string</strong> 或者 <strong>number</strong> ，但是不能是其他类型。</p> <h3 id="访问联合类型的属性或方法"><a href="#访问联合类型的属性或方法" class="header-anchor">#</a> 访问联合类型的属性或方法</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>当 TypeScript 不确定一个联合类型的变量到底是哪个类型的时候，我们<span class="token operator">&lt;</span>b<span class="token operator">&gt;</span>只能访问此联合类型的所有类型里共有的属性或方法：<span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">&gt;</span>
<span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token parameter">something<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> something<span class="token punctuation">.</span> length<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token parameter">something<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> something<span class="token punctuation">.</span> length<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token comment">// Property 'length' does not exist on type 'string | number'. </span>
<span class="token comment">// Property 'length' does not exist on type 'number'. </span>
</code></pre></div><p>上例中， <strong>length</strong> 不是 <strong>string</strong> 和 <strong>number</strong> 的共有属性，所以会报错。</p> <p>访问 string 和 number 的共有属性是没问题的：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">getString</span><span class="token punctuation">(</span><span class="token parameter">something<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> something<span class="token punctuation">.</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><p>联合类型的变量在<b>被赋值</b>的时候，会根据类型推论的规则<b>推断出一个类型：</b></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
myFavoriteNumber <span class="token operator">=</span> <span class="token string">'seven'</span><span class="token punctuation">;</span> 
<span class="token builtin">console</span><span class="token punctuation">.</span> <span class="token function">log</span><span class="token punctuation">(</span>myFavoriteNumber<span class="token punctuation">.</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> 
<span class="token builtin">console</span><span class="token punctuation">.</span> <span class="token function">log</span><span class="token punctuation">(</span>myFavoriteNumber<span class="token punctuation">.</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 编译时报错</span>

<span class="token comment">// Property 'length' does not exist on type 'number'. </span>
</code></pre></div><p>上例中，第二行的 myFavoriteNumber 被推断成了 <strong>string</strong> ，访问它的 <strong>length</strong> 属性不会报错。</p> <p>而第四行的 myFavoriteNumber 被推断成了 <strong>number</strong> ，访问它的 <strong>length</strong> 属性时就报错了。</p> <h2 id="对象的类型————接口"><a href="#对象的类型————接口" class="header-anchor">#</a> 对象的类型————接口</h2> <p>在 TypeScript 中，我们使用接口 <strong>（Interfaces）</strong> 来定义对象的类型。</p> <h3 id="什么是接口"><a href="#什么是接口" class="header-anchor">#</a> 什么是接口</h3> <p>在面向对象语言中，接口（Interfaces）是一个很重要的概念，它是对行为的抽象，而具体如何行动需要由类（classes）去实现（implement）。
<br><br>
TypeScript 中的接口是一个非常灵活的概念，除了可用于 <strong>对类的一部分行为进行抽象</strong> 以外，也常用于对「对象的形状（Shape）」进行描述。</p> <h3 id="简单的例子-2"><a href="#简单的例子-2" class="header-anchor">#</a> 简单的例子</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>这里注意接口里面定义的对象要用“<span class="token punctuation">;</span> ”表示，与<span class="token constant">JS</span>不同
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> 
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> 
  age<span class="token operator">:</span> <span class="token number">25</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面的例子中，我们定义了一个接口 <strong>Person</strong> ，接着定义了一个变量 <strong>tom</strong> ，它的类型是 <strong>Person</strong> 。这样，我们就约束了 <strong>tom</strong> 的形状必须和接口 Person 一致。</p> <blockquote><p>接口一般大写，如 Person</p></blockquote> <blockquote><p>定义的变量比接口少了一些属性是不允许的：</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> 
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Tom'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 

<span class="token comment">// Type '{ name: string; }' is not assignable to type 'Person'. </span>
<span class="token comment">// Property 'age' is missing in type '{ name: string; }'. </span>
</code></pre></div><blockquote><p>定义的变量比接口多一些属性也是不允许的：</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> 
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> 
  age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span> 
  gender<span class="token operator">:</span> <span class="token string">'male'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 

<span class="token comment">// Type '{ name: string; age: number; gender: string; }' is not assignable to type 'Person'. </span>
<span class="token comment">// Object literal may only specify known properties, and 'gender' does not exist in type 'Person'. </span>
</code></pre></div><h3 id="可选属性"><a href="#可选属性" class="header-anchor">#</a> 可选属性</h3> <p>有时我们希望不要完全匹配一个形状，那么可以用可选属性：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> 
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Tom'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>可选属性的含义就是该属性可以不存在。<br>
这是<b>仍然不允许添加未定义的属性</b></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> 
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> 
  age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span> 
  gender<span class="token operator">:</span> <span class="token string">'male'</span>
<span class="token punctuation">}</span>

<span class="token comment">// Type '{ name: string; age: number; gender: string; }' is not assignable to type 'Person'. </span>
<span class="token comment">// Object literal may only specify known properties, and 'gender' does not exist in type 'Person'. </span>
</code></pre></div><h3 id="任意属性"><a href="#任意属性" class="header-anchor">#</a> 任意属性</h3> <p>有时候我们希望一个接口允许有任意的属性，可以使用如下方式：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> 
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> 
  gender<span class="token operator">:</span> <span class="token string">'male'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用 <strong>[propName: string]</strong> 定义了任意属性取 <strong>string</strong> 类型的值。</p> <blockquote><p>需要注意的是，<b>一旦定义了任意属性，那么确定属性和可选属性的类型都必须是它的类型的子集</b></p></blockquote> <p>错误写法：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> 
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> 
  age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span> 
  gender<span class="token operator">:</span> <span class="token string">'male'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 
</code></pre></div><p>上例中，任意属性的值允许是 <strong>string</strong> ，但是可选属性 age 的值却是 <strong>number</strong> ， <strong>number</strong> 不是 <strong>string</strong> 的子属性，所以报错了。</p> <blockquote><p>一个接口中只能定义一个任意属性。如果接口中有多个类型的属性，则可以在任意属性中使用联合类型：</p></blockquote> <p>正确写法：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> 
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> 
  age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span> 
  gender<span class="token operator">:</span> <span class="token string">'male'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="只读属性"><a href="#只读属性" class="header-anchor">#</a> 只读属性</h3> <p>有时候我们希望对象中的一些字段<b>只能在创建的时候被赋值</b>，那么可以用 <strong>readonly</strong> 定义只读属性：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> 
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">89757</span><span class="token punctuation">,</span> 
  name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> 
  gender<span class="token operator">:</span> <span class="token string">'male'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 

tom<span class="token punctuation">.</span> id <span class="token operator">=</span> <span class="token number">9527</span><span class="token punctuation">;</span> 
<span class="token comment">// Cannot assign to 'id' because it is a constant or a read-only property. </span>
</code></pre></div><p>上例中，使用 <strong>readonly</strong> 定义的属性 <strong>id</strong> 初始化后， <strong>又被赋值</strong> 了，所以报错了。</p> <blockquote><p>注意，只读的约束存在于<b>第一次给对象赋值的时候</b>，而不是第一次给只读属性赋值的时候：</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> 
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> 
  gender<span class="token operator">:</span> <span class="token string">'male'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 

tom<span class="token punctuation">.</span> id <span class="token operator">=</span> <span class="token number">89757</span><span class="token punctuation">;</span> 

<span class="token comment">// 两处报错</span>
</code></pre></div><p>报错信息有两处：<br></p> <ol><li>在对 tom 进行赋值的时候，没有给 id 赋值。<br></li> <li>在给 tom. id 赋值的时候，由于它是 <strong>只读属性</strong> ，所以报错了。</li></ol> <h2 id="数组的类型"><a href="#数组的类型" class="header-anchor">#</a> 数组的类型</h2> <p>在 TypeScript 中，数组类型有多种定义方式，比较灵活。</p> <h3 id="「类型-方括号」"><a href="#「类型-方括号」" class="header-anchor">#</a> 「类型 + 方括号」</h3> <p>表示法 --- 最简单的数组表示法</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> fibonacci<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
</code></pre></div><p>数组的项中<strong>不允许</strong>出现其他的类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> fibonacci<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 

<span class="token comment">// Type 'string' is not assignable to type 'number'. </span>
</code></pre></div><p>数组的<strong>一些方法</strong>的<strong>参数</strong>也会根据数组在定义时约定的类型进行限制：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> fibonacci<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
fibonacci<span class="token punctuation">.</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">// Argument of type '&quot;8&quot;' is not assignable to parameter of type 'number'. </span>
</code></pre></div><p>上例中，<strong>push</strong> 方法只允许传入 <strong>number</strong> 类型的参数，但是却传了一个 <strong>&quot;8&quot;</strong> 类型的参数，所以报错了。这里 <strong>&quot;8&quot;</strong> 是一个<strong>字符串字面量</strong>类型，会在后续章节中详细介绍。</p> <h3 id="用接口表示数组"><a href="#用接口表示数组" class="header-anchor">#</a> 用接口表示数组</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">NumberArray</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token keyword">let</span> fibonacci<span class="token operator">:</span> NumberArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
</code></pre></div><p><strong>NumberArray</strong> 表示：只要索引的类型是数字时，那么值的类型必须是数字。<br></p> <p>虽然接口也可以用来描述数组，但是我们一般不会这么做，因为这种方式比前两种方式复杂多了。<br></p> <p>不过有一种情况例外，那就是它常用来表示类数组。<br></p> <h3 id="类数组-arguments"><a href="#类数组-arguments" class="header-anchor">#</a> 类数组 - arguments</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> args<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> arguments<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token comment">// Type 'IArguments' is missing the following properties from type 'number[]': pop, push, concat, join, and 24 more. </span>
</code></pre></div><p>上例中，<strong>arguments</strong> 实际上是一个类数组，不能用普通的数组的方式来描述，而应该用接口：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> args<span class="token operator">:</span> <span class="token punctuation">{</span>

    <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    callee<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span> <span class="token operator">=</span> arguments<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><p>在这个例子中，我们除了约束当索引的类型是数字时，值的类型必须是数字之外，也约束了它还有 <strong>length</strong> 和 <strong>callee</strong> 两个属性。
<br>
事实上常用的类数组都有自己的接口定义，如 <strong>IArguments</strong>, <strong>NodeList</strong>, <strong>HTMLCollection</strong> 等：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> args<span class="token operator">:</span> IArguments <span class="token operator">=</span> arguments<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">IArguments</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span> 
  length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  callee<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><h3 id="any在数组中的应用"><a href="#any在数组中的应用" class="header-anchor">#</a> any在数组中的应用</h3> <p>一个比较常见的做法是，用 <strong>any</strong> 表示数组中允许出现任意类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> list<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'abcd'</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> website<span class="token operator">:</span> <span class="token string">'http://xcatliu.com'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><h2 id="函数的类型"><a href="#函数的类型" class="header-anchor">#</a> 函数的类型</h2> <h3 id="函数声明"><a href="#函数声明" class="header-anchor">#</a> 函数声明</h3> <p>在 JavaScript 中，有两种常见的定义函数的方式——函数声明和函数表达式：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 函数声明</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token comment">// 函数表达式</span>
<span class="token keyword">let</span> <span class="token function-variable function">mySum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><h3 id="函数声明的类型定义"><a href="#函数声明的类型定义" class="header-anchor">#</a> 函数声明的类型定义</h3> <p>限制了参数的类型 和 返回值的 类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>注意，<b>输入多余的（或者少于要求的）参数，是不被允许的：</b></p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="可选参数"><a href="#可选参数" class="header-anchor">#</a> 可选参数</h3> <p>与接口中的可选属性类似，我们用 <strong>?</strong> 表示可选的参数：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lastName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>lastName<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName<span class="token punctuation">;</span>

  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

    <span class="token keyword">return</span> firstName<span class="token punctuation">;</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tomcat <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token string">'Cat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> tom <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><blockquote><p>需要注意的是，可选参数必须在<strong>必需参数</strong>后面。换句话说，<b>可选参数后面不允许再出现必需参数了</b>：</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lastName<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>firstName<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName<span class="token punctuation">;</span>

  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

    <span class="token keyword">return</span> lastName<span class="token punctuation">;</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tomcat <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token string">'Cat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> tom <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">'Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">//  A required parameter cannot follow an optional parameter. </span>
</code></pre></div><h3 id="参数默认值"><a href="#参数默认值" class="header-anchor">#</a> 参数默认值</h3> <p><b>TypeScript 会将添加了默认值的参数识别为可选参数：</b>
不传的话，默认值为 Cat</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">buildName</span><span class="token punctuation">(</span>firstName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lastName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'Cat'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tomcat <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token string">'Cat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> tom <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><blockquote><p>此时就不受「可选参数必须接在必需参数后面」的限制了：</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">buildName</span><span class="token punctuation">(</span>firstName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> lastName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token keyword">let</span> tomcat <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token string">'Cat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">'Cat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="剩余参数"><a href="#剩余参数" class="header-anchor">#</a> 剩余参数</h3> <p>items 是一个数组。所以我们可以用数组的类型来定义它：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">...</span> items<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  items<span class="token punctuation">.</span> <span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token function">push</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="函数表达式"><a href="#函数表达式" class="header-anchor">#</a> 函数表达式</h3> <p>通过对函数声明式学习的了解，我们可能会写成这样：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> <span class="token function-variable function">mySum</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><p>这是可以通过编译的，不过事实上，上面的代码只对等号右侧的匿名函数进行了类型定义，而等号左边的 mySum，是通过<strong>赋值操作</strong>进行类型<strong>推论而推断出来</strong>的。如果需要我们手动给 <strong>mySum</strong> 添加类型，则应该是这样：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> <span class="token function-variable function">mySum</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>注意不要混淆了 TypeScript 中的 =&gt; 和 ES6 中的 =&gt;。
在 TypeScript 的类型定义中，<strong>=&gt; 用来表示函数的定义</strong>，左边是<strong>输入类型</strong>，需要用<strong>括号</strong>括起来，右边是<strong>输出类型</strong>。</p></blockquote> <h3 id="用接口定义函数的形状（拓展）"><a href="#用接口定义函数的形状（拓展）" class="header-anchor">#</a> 用接口定义函数的形状（拓展）</h3> <p>我们也可以使用<strong>接口的方式</strong>来定义一个函数(<strong>参数</strong>)（<strong>输出值</strong>）需要符合的形状：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">SearchFunc</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>source<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> subString<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">let</span> mySearch<span class="token operator">:</span> SearchFunc<span class="token punctuation">;</span> 
<span class="token function-variable function">mySearch</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> subString<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> souce<span class="token punctuation">.</span> <span class="token function">search</span><span class="token punctuation">(</span>subString<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><p><b>采用函数表达式</b>|接口定义函数的方式时，<b>对等号左侧进行类型限制</b>，可以保证以后对<b>函数名赋值时保证参数个数、参数类型、返回值类型不变</b>。</p> <h3 id="看完三件事❤"><a href="#看完三件事❤" class="header-anchor">#</a> 看完三件事❤</h3> <p>如果你觉得这篇内容对你还蛮有帮助，我想邀请你帮我三个小忙：</p> <ol><li>点赞，转发让更多的人也能看到介绍内容（收藏不点赞，皆是耍流氓！！）</li> <li>关注公众号 “前端时光屋”，不定期分享原创知识。</li> <li>同时可以期待后续文章ing</li></ol> <p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1ghoi05girdj3076076mxm.jpg" alt=""></p> <p>也可以来我的个人博客：</p> <p>前端时光屋：https://www.javascriptlab.top/</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/JavaScript/basics/001：AJAX.html" class="prev">
        001：AJAX
      </a></span> <span class="next"><a href="/JavaScript/basics/002-TypeScript的进阶.html">
        002-TypeScript的进阶
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.06b24de5.js" defer></script><script src="/assets/js/2.a05443f6.js" defer></script><script src="/assets/js/33.61ac7552.js" defer></script>
  </body>
</html>
